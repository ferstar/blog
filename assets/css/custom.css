/* ==========================================================================
   Blog Custom Styles - Blowfish Theme
   ========================================================================== */

/* --- Logo & Header --- */
.logo {
  height: 2rem !important;
  width: auto !important;
}

/* Adjust fixed header placeholder height for better breathing room */
.min-h-\[148px\] {
  min-height: 100px !important;
}

header {
  min-height: 80px;
}

/* --- Homepage Layout --- */
.home .prose h1 {
  display: none;
}

.home #main-content {
  margin-top: 0 !important;
}

/* --- Post Listing Density (Desktop) --- */
.prose li {
  margin-bottom: 0.5rem !important;
}

section article {
  margin-bottom: 1.5rem !important;
  padding-bottom: 0.5rem !important;
}

header.items-center {
  margin-bottom: -0.25rem !important;
}

article h2 {
  margin-bottom: 0 !important;
}

article .text-sm {
  margin-top: 0 !important;
}

/* --- Mobile Specific Optimizations (max-width: 640px) --- */
@media (max-width: 640px) {
  /* Zero out vertical spacing and flex gaps */
  .space-y-4 > :not([hidden]) ~ :not([hidden]),
  section.space-y-4 {
    margin-top: 0 !important;
    gap: 0 !important;
  }

  /* Kill any padding on article and its containers */
  article,
  article > div {
    padding-top: 0 !important;
    padding-bottom: 0 !important;
    margin-top: 0 !important;
    margin-bottom: -0.5rem !important;
  }

  /* Ensure the title has no space above it */
  article h2 {
    margin-top: 0 !important;
    padding-top: 0 !important;
    line-height: 1.2 !important;
  }

  /* Meta info adjustment - positive space from title, but no space below */
  article .text-sm {
    margin-top: 0.25rem !important;
    margin-bottom: 0 !important;
    line-height: 1.2 !important;
  }
}

/* --- Performance & Stability (CLS Fixes) --- */
html {
  overflow-y: scroll; /* Force vertical scrollbar to prevent horizontal jumps */
}

body {
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  font-display: swap;
}

/* Stabilize code blocks */
.highlight-wrapper {
  position: relative;
  min-height: 3rem;
}

/* Prevent copy button from shifting layout */
.copy-button {
  position: absolute !important;
}

/* Pre-size Mermaid blocks */
.mermaid {
  min-height: 200px;
  display: flex;
  justify-content: center;
  overflow: hidden;
}

.mermaid svg {
  margin: 0 auto;
}

/* Stabilize TOC sidebar */
@media (min-width: 1024px) {
  .toc {
    min-width: 20rem;
  }
}

/* Prevent image jumping */
img {
  height: auto;
  content-visibility: auto;
}